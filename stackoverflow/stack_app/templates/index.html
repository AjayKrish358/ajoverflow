{% extends 'base_layout.html' %} {% block title %}__init__OVERFLOW {% endblock %} {% block body %}
<div class="container" style="margin-top: 5%;">

    {% if questions %}
    <h1 class="text-center">Questions</h1>

    {% for question in questions %}

    <div class="card border-light shadow my-5 py-3">

        <div class="card-body">
            <h3 class="card-title a-tag">{{question.question}}</h3>
            <div class="clearfix">
                <h6 class="card-subtitle mb-2 text-muted float-right">Asked by {{question.user_id}} on {{question.date}}</h6>
            </div>
            <a href="{% url 'stack_app:question' ques=question.slug %}" class="my-3 btn btn-dark stretched-link d-block mx-auto w-25">Go to question</a>
        </div>
    </div>
    {% endfor %} {% else %}
    <h2>No questions to display!</h2>

    <a class="btn btn-dark hover-btn" href="{% url 'stack_app:create' %}">Ask a  Question!</a> {% endif %}
</div>
<script>
    document.addEventListener('DOMContentLoaded', function() {
        let search = document.getElementById('search-bar');
        search.addEventListener('keyup', () => {
            let key = search.value.toLowerCase();

            document.querySelectorAll('.a-tag').forEach(row => {
                let text = row.textContent.toLowerCase();
                let div = row.parentElement;
                div = div.parentElement;

                if (text.indexOf(key) != -1) {
                    div.style.display = 'block';
                } else {
                    div.style.display = 'none';
                }
            });
        });

    });
</script>
{% endblock %} {% block script %}{% endblock %}